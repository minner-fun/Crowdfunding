# å¤šé’±åŒ…æ”¯æŒåŠŸèƒ½è¯´æ˜

## æ¦‚è¿°

æœ¬ä¼—ç­¹ DApp ç°å·²æ”¯æŒå¤šç§ Web3 é’±åŒ…ï¼ŒåŒ…æ‹¬ï¼š

- ğŸ¦Š **MetaMask** - æœ€å—æ¬¢è¿çš„ä»¥å¤ªåŠé’±åŒ…
- â­• **OKX Wallet** - å¤šé“¾é’±åŒ…ï¼Œæ”¯æŒå¤šç§åŠ å¯†è´§å¸
- ğŸ‘» **Phantom** - æ”¯æŒ Solana å’Œä»¥å¤ªåŠçš„é’±åŒ…
- ğŸ’¼ **é€šç”¨é’±åŒ…** - å…¶ä»–å…¼å®¹ EIP-1193 æ ‡å‡†çš„é’±åŒ…

## åŠŸèƒ½ç‰¹æ€§

### 1. è‡ªåŠ¨é’±åŒ…æ£€æµ‹
- ç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æµ‹ç”¨æˆ·æµè§ˆå™¨ä¸­å®‰è£…çš„é’±åŒ…æ‰©å±•
- æ”¯æŒåŒæ—¶å®‰è£…å¤šä¸ªé’±åŒ…çš„æƒ…å†µ
- æ™ºèƒ½è¯†åˆ«é’±åŒ…ç±»å‹å’Œæä¾›è€…

### 2. é’±åŒ…é€‰æ‹©å™¨
- å½“æ£€æµ‹åˆ°å¤šä¸ªé’±åŒ…æ—¶ï¼Œä¼šæ˜¾ç¤ºé’±åŒ…é€‰æ‹©å™¨
- ç”¨æˆ·å¯ä»¥é€‰æ‹©è¦è¿æ¥çš„ç‰¹å®šé’±åŒ…
- æ˜¾ç¤ºæ¯ä¸ªé’±åŒ…çš„å›¾æ ‡ã€åç§°å’Œæè¿°

### 3. æ™ºèƒ½è¿æ¥é€»è¾‘
- å¦‚æœåªæœ‰ä¸€ä¸ªé’±åŒ…ï¼Œç›´æ¥è¿æ¥
- å¦‚æœæœ‰å¤šä¸ªé’±åŒ…ï¼Œæ˜¾ç¤ºé€‰æ‹©ç•Œé¢
- æ”¯æŒè®°ä½ç”¨æˆ·çš„é’±åŒ…é€‰æ‹©

### 4. ç½‘ç»œç®¡ç†
- è‡ªåŠ¨æ£€æµ‹å½“å‰ç½‘ç»œ
- æ”¯æŒåˆ‡æ¢åˆ° Sepolia æµ‹è¯•ç½‘
- è‡ªåŠ¨æ·»åŠ ç½‘ç»œé…ç½®ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬è¿æ¥
```javascript
import { useWeb3 } from '../hooks/useWeb3';

const MyComponent = () => {
  const { 
    connectWallet, 
    availableWallets, 
    connectedWallet,
    isConnected 
  } = useWeb3();

  // è¿æ¥é»˜è®¤é’±åŒ…ï¼ˆç¬¬ä¸€ä¸ªå¯ç”¨çš„ï¼‰
  const handleConnect = () => {
    connectWallet();
  };

  // è¿æ¥ç‰¹å®šé’±åŒ…
  const handleConnectSpecific = (walletType) => {
    connectWallet(walletType);
  };

  return (
    <div>
      {!isConnected ? (
        <button onClick={handleConnect}>
          è¿æ¥é’±åŒ…
        </button>
      ) : (
        <div>
          å·²è¿æ¥: {connectedWallet?.name}
        </div>
      )}
    </div>
  );
};
```

### é’±åŒ…é€‰æ‹©å™¨ç»„ä»¶
```javascript
import WalletSelector from '../components/WalletSelector';

const App = () => {
  const [showSelector, setShowSelector] = useState(false);

  return (
    <div>
      <button onClick={() => setShowSelector(true)}>
        é€‰æ‹©é’±åŒ…
      </button>
      
      {showSelector && (
        <WalletSelector 
          onClose={() => setShowSelector(false)} 
        />
      )}
    </div>
  );
};
```

## é’±åŒ…æ£€æµ‹é€»è¾‘

### MetaMask æ£€æµ‹
```javascript
if (window.ethereum && window.ethereum.isMetaMask) {
  // MetaMask å·²å®‰è£…
}
```

### OKX Wallet æ£€æµ‹
```javascript
if (window.okxwallet || (window.ethereum && window.ethereum.isOkxWallet)) {
  // OKX Wallet å·²å®‰è£…
}
```

### Phantom æ£€æµ‹
```javascript
if (window.phantom && window.phantom.ethereum) {
  // Phantom å·²å®‰è£…ä¸”æ”¯æŒä»¥å¤ªåŠ
}
```

### é€šç”¨é’±åŒ…æ£€æµ‹
```javascript
if (window.ethereum) {
  // å­˜åœ¨é€šç”¨çš„ä»¥å¤ªåŠæä¾›è€…
}
```

## API å‚è€ƒ

### useWeb3 Hook æ–°å¢è¿”å›å€¼

```javascript
const {
  // åŸæœ‰å±æ€§...
  connectedWallet,      // å½“å‰è¿æ¥çš„é’±åŒ…ä¿¡æ¯
  availableWallets,     // å¯ç”¨é’±åŒ…åˆ—è¡¨
  hasWalletInstalled,   // æ£€æŸ¥æ˜¯å¦æœ‰é’±åŒ…å®‰è£…
  detectWallets,        // æ‰‹åŠ¨æ£€æµ‹é’±åŒ…
  WALLET_TYPES,         // é’±åŒ…ç±»å‹å¸¸é‡
} = useWeb3();
```

### é’±åŒ…å¯¹è±¡ç»“æ„
```javascript
{
  type: 'metamask',           // é’±åŒ…ç±»å‹
  name: 'MetaMask',          // æ˜¾ç¤ºåç§°
  icon: 'ğŸ¦Š',                // å›¾æ ‡
  provider: window.ethereum   // é’±åŒ…æä¾›è€…å¯¹è±¡
}
```

### é’±åŒ…ç±»å‹å¸¸é‡
```javascript
const WALLET_TYPES = {
  METAMASK: 'metamask',
  OKX: 'okx',
  PHANTOM: 'phantom',
};
```

## é”™è¯¯å¤„ç†

### å¸¸è§é”™è¯¯æƒ…å†µ
1. **æœªå®‰è£…é’±åŒ…**: æ˜¾ç¤ºå®‰è£…æŒ‡å¼•
2. **ç”¨æˆ·æ‹’ç»è¿æ¥**: æç¤ºç”¨æˆ·æˆæƒ
3. **ç½‘ç»œé”™è¯¯**: è‡ªåŠ¨åˆ‡æ¢æˆ–æç¤ºåˆ‡æ¢ç½‘ç»œ
4. **é’±åŒ…é”å®š**: æç¤ºç”¨æˆ·è§£é”é’±åŒ…

### é”™è¯¯å¤„ç†ç¤ºä¾‹
```javascript
try {
  await connectWallet('metamask');
} catch (error) {
  if (error.message.includes('user rejected')) {
    toast.error('ç”¨æˆ·å–æ¶ˆäº†è¿æ¥');
  } else if (error.message.includes('æœªæ‰¾åˆ°')) {
    toast.error('è¯·å®‰è£… MetaMask é’±åŒ…');
  }
}
```

## æœ€ä½³å®è·µ

### 1. ç”¨æˆ·ä½“éªŒ
- ä¼˜å…ˆæ˜¾ç¤ºç”¨æˆ·æœ€å¸¸ç”¨çš„é’±åŒ…
- æä¾›æ¸…æ™°çš„é’±åŒ…çŠ¶æ€æŒ‡ç¤º
- åœ¨è¿æ¥è¿‡ç¨‹ä¸­æ˜¾ç¤ºåŠ è½½çŠ¶æ€

### 2. é”™è¯¯å¤„ç†
- æä¾›å‹å¥½çš„é”™è¯¯æ¶ˆæ¯
- æŒ‡å¯¼ç”¨æˆ·å¦‚ä½•è§£å†³é—®é¢˜
- æ”¯æŒé‡è¯•æœºåˆ¶

### 3. æ€§èƒ½ä¼˜åŒ–
- å»¶è¿ŸåŠ è½½é’±åŒ…æ£€æµ‹
- ç¼“å­˜é’±åŒ…è¿æ¥çŠ¶æ€
- é¿å…é‡å¤çš„ç½‘ç»œè¯·æ±‚

## å…¼å®¹æ€§

### æ”¯æŒçš„æµè§ˆå™¨
- Chrome/Chromium ç³»åˆ—
- Firefox
- Safari (éƒ¨åˆ†é’±åŒ…)
- Edge

### ç§»åŠ¨ç«¯æ”¯æŒ
- é€šè¿‡é’±åŒ…åº”ç”¨çš„å†…ç½®æµè§ˆå™¨
- WalletConnect åè®®ï¼ˆæœªæ¥ç‰ˆæœ¬ï¼‰

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **é’±åŒ…æœªè¢«æ£€æµ‹åˆ°**
   - ç¡®ä¿é’±åŒ…æ‰©å±•å·²å¯ç”¨
   - åˆ·æ–°é¡µé¢é‡æ–°æ£€æµ‹
   - æ£€æŸ¥æµè§ˆå™¨å…¼å®¹æ€§

2. **è¿æ¥å¤±è´¥**
   - æ£€æŸ¥ç½‘ç»œè¿æ¥
   - ç¡®ä¿é’±åŒ…å·²è§£é”
   - å°è¯•é‡æ–°è¿æ¥

3. **ç½‘ç»œåˆ‡æ¢å¤±è´¥**
   - æ‰‹åŠ¨åœ¨é’±åŒ…ä¸­åˆ‡æ¢ç½‘ç»œ
   - æ£€æŸ¥ç½‘ç»œé…ç½®æ˜¯å¦æ­£ç¡®

### è°ƒè¯•ä¿¡æ¯
åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­æŸ¥çœ‹è¯¦ç»†çš„è¿æ¥æ—¥å¿—å’Œé”™è¯¯ä¿¡æ¯ã€‚

## æ›´æ–°æ—¥å¿—

### v2.0.0
- æ·»åŠ å¤šé’±åŒ…æ”¯æŒ
- æ–°å¢é’±åŒ…é€‰æ‹©å™¨ç»„ä»¶
- æ”¹è¿›é”™è¯¯å¤„ç†æœºåˆ¶
- ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ

### v1.0.0
- åŸºç¡€ MetaMask æ”¯æŒ
- åŸºæœ¬è¿æ¥åŠŸèƒ½ 